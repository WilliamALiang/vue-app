webpackJsonp([4],{"1gSM":function(t,e){t.exports="data:image/jpeg;base64,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"},"49kT":function(t,e,i){var a=i("hXFs");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("rjj0")("1a1454f5",a,!0,{})},"9Msg":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("mt-header",{attrs:{title:"聊天"}},[a("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:t.back},slot:"left"},[t._v("返回")]),t._v(" "),a("mt-button",{attrs:{slot:"right"},on:{click:function(e){t.popupMenu=!0}},slot:"right"},[a("i",{staticClass:"fa fa-fw fa-plus"})])],1),t._v(" "),a("div",{staticClass:"chat-cell"},t._l(t.contacts,function(e,o){return a("accordion",{key:o,attrs:{open:!1}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("div",[a("i",{staticClass:"fa fa-fw fa-user"}),t._v(" "+t._s(e.name))])]),t._v(" "),a("div",{attrs:{slot:"content"},slot:"content"},t._l(e.friends,function(e,o){return a("mt-cell",{key:o,attrs:{title:e.memo,label:"暂无最新消息"},nativeOn:{click:function(i){t.toDetails(e)}}},[a("img",{staticClass:"chat-head",attrs:{src:i("AH0k")}})])}))])})),t._v(" "),a("mt-popup",{staticClass:"popup-config",attrs:{position:"left"},model:{value:t.popupConfig,callback:function(e){t.popupConfig=e},expression:"popupConfig"}},[a("mt-cell",{attrs:{title:"创建群聊"}},[a("i",{staticClass:"fa fa-fw fa-commenting-o",attrs:{slot:"icon"},slot:"icon"})])],1),t._v(" "),a("mt-popup",{staticClass:"popup-menu",style:{left:t.screenWidth-80+"px"},model:{value:t.popupMenu,callback:function(e){t.popupMenu=e},expression:"popupMenu"}},[a("mt-cell",{attrs:{title:"创建群聊"}},[a("i",{staticClass:"fa fa-fw fa-commenting-o",attrs:{slot:"icon"},slot:"icon"})]),t._v(" "),a("mt-cell",{attrs:{title:"加好友/群"}},[a("i",{staticClass:"fa fa-fw fa-user-o",attrs:{slot:"icon"},slot:"icon"})]),t._v(" "),a("mt-cell",{attrs:{title:"扫一扫"}},[a("i",{staticClass:"fa fa-fw fa-qrcode",attrs:{slot:"icon"},slot:"icon"})]),t._v(" "),a("mt-cell",{attrs:{title:"面对面快传"}},[a("i",{staticClass:"fa fa-fw fa-retweet",attrs:{slot:"icon"},slot:"icon"})]),t._v(" "),a("mt-cell",{attrs:{title:"付款"}},[a("i",{staticClass:"fa fa-fw fa-barcode",attrs:{slot:"icon"},slot:"icon"})]),t._v(" "),a("mt-cell",{attrs:{title:"拍摄"}},[a("i",{staticClass:"fa fa-fw fa-camera",attrs:{slot:"icon"},slot:"icon"})])],1),t._v(" "),a("chatDetails",{attrs:{open:t.popupDetails,target:t.target},on:{"update:open":function(e){t.popupDetails=e}}}),t._v(" "),a("iframe",{staticStyle:{display:"none"},attrs:{id:"chatFrame",src:t.server+"/chatFrame.html?userId="+t.user.userId}})],1)},o=[],s={render:a,staticRenderFns:o};e.a=s},"9z39":function(t,e,i){"use strict";var a=i("QI3B"),o=i("jMze");e.a={name:"chat",components:{accordion:a.a,chatDetails:o.a},data:function(){return{server:Config.server,user:utils.cache.get("user")||{userId:"admin"},popupMenu:!1,popupConfig:!1,popupDetails:!1,contacts:[],target:{userId:"chenjia",name:"陈佳",head:"../../../static/img/head.jpg"}}},methods:{getFriends:function(){this.contacts=[{name:"最近联系人",friends:[{name:"佳哥哥",memo:"佳哥哥",friendId:"chenjia"}]}]},toDetails:function(t){this.popupDetails=!0,this.target=t}},mounted:function(){this.getFriends()}}},AH0k:function(t,e){t.exports="data:image/jpeg;base64,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"},DyH0:function(t,e,i){var a=i("tvbJ");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("rjj0")("3e21068e",a,!0,{})},FMK5:function(t,e,i){"use strict";e.a={name:"chatDetails",props:{open:{type:Boolean,default:!0},target:{type:Object}},data:function(){return{now:(new Date).getTime(),show:this.open,currentPage:1,topStatus:"",msg:"",user:utils.cache.get("user")||{userId:"admin"},heads:{admin:i("AH0k"),chenjia:i("AH0k"),xiaoting:i("1gSM")},targets:{},records:{}}},methods:{change:function(t){this.show=t,this.$emit("update:open",t)},queryRecords:function(t){var e=this;utils.http.post("/chat/record",{sendId:this.user.userId,receiveId:this.target.friendId,beforeDate:this.now,currentPage:this.currentPage,count:10}).then(function(i){setTimeout(function(){if(e.currentPage++,e.records[e.target.friendId]){var a=e.records[e.target.friendId][0].recordId;e.$set(e.records,e.target.friendId,i.data.body.data.reverse().concat(e.records[e.target.friendId])),setTimeout(function(){document.querySelector(".chat-container").scrollTop=document.getElementById(a).offsetTop-50,t()})}else e.$set(e.records,e.target.friendId,i.data.body.data.reverse()),setTimeout(function(){document.querySelector(".chat-container").scrollTop=99999})},500)}).catch(function(){e.records={chenjia:[{recordId:"xxxxx",receiveId:"admin",sendId:"chenjia",content:"Hello World"}]}})},loadTop:function(){var t=this;this.queryRecords(function(){t.$refs.loadmore.onTopLoaded()})},handleTopChange:function(t){this.topStatus=t},send:function(){var t={msgType:0,sendId:this.user.userId,sendUser:this.user.realname,receiveId:this.target.friendId,receiveUser:this.target.memo,content:this.msg};document.getElementById("chatFrame").contentWindow.postMessage(t,"*"),this.records[this.target.friendId].push(t),this.msg="",setTimeout(function(){document.querySelector(".chat-container").scrollTop=99999})},receiveMessage:function(t){this.records[t.sendId]&&(this.records[t.sendId].push(t),setTimeout(function(){document.querySelector(".chat-container").scrollTop=99999}))}},watch:{open:function(t){this.change(t)},target:function(t){this.queryRecords()}},mounted:function(){var t=this;window.addEventListener("message",function(e){t.receiveMessage(e.data)})}}},Mqri:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("mt-popup",{staticClass:"popup-details",attrs:{position:"right"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[i("mt-header",{attrs:{title:t.target.name}},[i("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:function(e){t.change(!1)}},slot:"left"},[t._v("返回")])],1),t._v(" "),i("div",{staticClass:"chat-container pd-md",style:{height:t.screenHeight-100+"px"}},[i("mt-loadmore",{ref:"loadmore",attrs:{"top-method":t.loadTop},on:{"top-status-change":t.handleTopChange}},[i("div",{staticClass:"mint-loadmore-top",attrs:{slot:"top"},slot:"top"},[i("span",{directives:[{name:"show",rawName:"v-show",value:"loading"!==t.topStatus,expression:"topStatus !== 'loading'"}],staticClass:"loadmore-arrow",class:{rotate:"drop"===t.topStatus}},[t._v("↓")]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.topStatus,expression:"topStatus === 'loading'"}]},[i("mt-spinner",{attrs:{type:"fading-circle",color:"#26a2ff",size:20}}),t._v(" "),i("span",{staticStyle:{position:"relative",top:"-4px",left:"4px",color:"#26a2ff"}},[t._v("加载中...")])],1)]),t._v(" "),t._l(t.records[t.target.friendId],function(e,a){return i("div",{staticClass:"chat-box",class:{"chat-receive":t.user.userId==e.receiveId,"chat-send":t.user.userId==e.sendId},attrs:{id:e.recordId}},[i("img",{staticClass:"chat-head",attrs:{src:t.heads[e.sendId]}}),t._v(" "),i("div",{staticClass:"chat-msg"},[t._v("\n          "+t._s(e.content)+"\n        ")])])})],2)],1),t._v(" "),i("div",{staticClass:"chat-editor"},[i("div",{staticClass:"chat-editor-btn",staticStyle:{transform:"rotate(90deg)"}},[i("i",{staticClass:"fa fa-fw fa-wifi"})]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],staticClass:"chat-editor-input",style:{width:t.screenWidth-130+"px"},attrs:{type:"text"},domProps:{value:t.msg},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.send(e)},input:function(e){e.target.composing||(t.msg=e.target.value)}}}),t._v(" "),i("div",{staticClass:"chat-editor-btn"},[i("i",{staticClass:"fa fa-fw fa-smile-o"})]),t._v(" "),i("mt-button",{directives:[{name:"show",rawName:"v-show",value:null!=t.msg&&""!=t.msg,expression:"msg != null && msg != ''"}],attrs:{type:"primary",size:"small"},on:{click:t.send}},[t._v("发送")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:null==t.msg||""==t.msg,expression:"msg == null || msg == ''"}],staticClass:"chat-editor-btn"},[i("i",{staticClass:"fa fa-fw fa-plus"})])],1)],1)},o=[],s={render:a,staticRenderFns:o};e.a=s},O6Ar:function(t,e,i){var a=i("nyRe");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("rjj0")("28aa9003",a,!0,{})},QI3B:function(t,e,i){"use strict";function a(t){i("DyH0")}var o=i("fEEn"),s=i("bj+l"),n=i("VU/8"),r=a,c=n(o.a,s.a,!1,r,null,null);e.a=c.exports},T5Y6:function(t,e,i){"use strict";function a(t){i("O6Ar")}Object.defineProperty(e,"__esModule",{value:!0});var o=i("9z39"),s=i("9Msg"),n=i("VU/8"),r=a,c=n(o.a,s.a,!1,r,"data-v-e8f03dfe",null);e.default=c.exports},"bj+l":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"accordion",style:{"margin-top":t.cascade?"-1px":""}},[i("mt-cell",{staticStyle:{background:"#fefefe"}},[i("div",{staticStyle:{color:"#26a2ff"},attrs:{slot:"title"},on:{click:function(e){t.expand=!t.expand}},slot:"title"},[t._t("title"),t._v(" "),i("i",{staticClass:"fa fa-fw fa-angle-down",staticStyle:{"-webkit-transition":"all .2s ease-out",position:"absolute",right:"10px",top:"14px","font-size":"20px"},style:{"-webkit-transform":t.expand?"rotate(180deg)":""}})],2)]),t._v(" "),t.$slots.content[0].children.length>0?i("mt-cell",{style:{height:t.ready&&t.expand?t.$refs.content.clientHeight+"px":"1px","min-height":t.ready&&t.expand?t.$refs.content.clientHeight+"px":"1px","-webkit-transition":t.animation?"all .2s ease-out":""}},[i("div",{ref:"content",staticClass:"content",attrs:{slot:"title"},slot:"title"},[t._t("content")],2)]):t._e()],1)},o=[],s={render:a,staticRenderFns:o};e.a=s},fEEn:function(t,e,i){"use strict";e.a={name:"accordion",props:{open:{type:Boolean,default:!1}},data:function(){return{ready:!1,cascade:!1,animation:!1,expand:this.open}},mounted:function(){var t=this;this.ready=!0;var e=this.$el.previousElementSibling;e&&"accordion"==e.className&&(this.cascade=!0),setTimeout(function(){t.animation=!0})}}},hXFs:function(t,e,i){e=t.exports=i("FZ+f")(!1),e.push([t.i,'.popup-details{width:100%;height:100%}.chat-container{overflow-y:auto}.chat-box{display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:20px}.chat-send{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.chat-head{width:36px;height:36px;border:1px solid #ccc;border-radius:50%}.chat-msg{position:relative;background:#eee;border:1px solid #ccc;border-radius:4px;margin:0 0 0 20px;padding:10px;max-width:60%;word-wrap:break-word}.chat-send .chat-msg{border:1px solid #26a2ff;background:#e3f2fd;margin:0 20px 0 0}.chat-send .chat-msg:before{border-left:1px solid #26a2ff;border-bottom:1px solid #26a2ff;background:#e3f2fd;right:-6px;-webkit-transform:rotate(-135deg);transform:rotate(-135deg)}.chat-receive .chat-msg:before,.chat-send .chat-msg:before{width:10px;height:10px;z-index:1;display:inline-block;content:" ";position:absolute;top:10px}.chat-receive .chat-msg:before{border-left:1px solid #ccc;border-bottom:1px solid #ccc;background:#eee;left:-6px;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.chat-editor{position:fixed;z-index:9;-webkit-box-align:center;-ms-flex-align:center;align-items:center;bottom:0;background:#eee;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around;width:100%;height:50px;line-height:50px}.chat-editor-btn{display:inline-block;width:30px;height:30px;line-height:30px;text-align:center;color:#666;border:1px solid #ccc;border-radius:50%}.chat-editor-input{padding:0 5px;background:none;border:none;height:30px;line-height:30px;border-bottom:1px solid #ccc;-webkit-box-flex:0;-ms-flex:0 1 100px;flex:0 1 100px}.rotate{-webkit-transform:rotate(-180deg);transform:rotate(-180deg)}.loadmore-arrow{-webkit-transition:all .3s ease-out;transition:all .3s ease-out;font-size:24px;font-family:\\\\5FAE\\8F6F\\96C5\\9ED1;color:#26a2ff}.loadmore-arrow,div[class^=mint-spinner-]{display:inline-block}',""])},jMze:function(t,e,i){"use strict";function a(t){i("49kT")}var o=i("FMK5"),s=i("Mqri"),n=i("VU/8"),r=a,c=n(o.a,s.a,!1,r,null,null);e.a=c.exports},nyRe:function(t,e,i){e=t.exports=i("FZ+f")(!1),e.push([t.i,'.popup-menu[data-v-e8f03dfe]:before{width:0;height:0;display:inline-block;border-left:10px solid transparent;border-right:10px solid transparent;border-bottom:10px solid #fff;content:" ";position:absolute;top:-10px;right:8px}.popup-menu[data-v-e8f03dfe]{top:195px;width:150px;border-radius:10px}.popup-config[data-v-e8f03dfe]{width:80%;height:100%}.chat-head[data-v-e8f03dfe]{width:36px;border-radius:50%}',""])},tvbJ:function(t,e,i){e=t.exports=i("FZ+f")(!1),e.push([t.i,".content{padding:1px 0}.content .mint-cell:first-child .mint-cell-wrapper,.content .mint-cell:last-child{background:none}",""])}});