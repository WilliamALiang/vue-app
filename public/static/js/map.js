webpackJsonp([18],{HY5g:function(t,e,n){"use strict";var a=n("xbIr"),o=n("ukVt"),i=n("VU/8"),c=i(a.a,o.a,!1,null,null,null);e.a=c.exports},P8Vh:function(t,e,n){"use strict";var a=n("HY5g");e.a={name:"Map",components:{baiduMap:a.a},data:function(){return{}},methods:{},mounted:function(){}}},h3B2:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("mt-header",{attrs:{title:"百度地图"}},[n("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:t.back},slot:"left"},[n("span",[t._v("返回")])])],1),t._v(" "),n("div",[n("baiduMap"),t._v(" "),n("div",{staticStyle:{height:"50%","overflow-y":"auto"}})],1)],1)},o=[],i={render:a,staticRenderFns:o};e.a=i},t1kT:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("P8Vh"),o=n("h3B2"),i=n("VU/8"),c=i(a.a,o.a,!1,null,null,null);e.default=c.exports},ukVt:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{width:"100%",position:"absolute",top:"40px"},style:{height:t.screenHeight-40+"px"},attrs:{id:"mapBox"}},[n("iframe",{attrs:{src:"static/html/baiduMap.html?callback=mapCallback",width:"100%",height:"100%",frameborder:"0"}})])},o=[],i={render:a,staticRenderFns:o};e.a=i},xbIr:function(t,e,n){"use strict";e.a={name:"BaiduMap",data:function(){return{}},methods:{},computed:{},mounted:function(){var t=0;window.mapCallback=function(e){console.log("in callback",utils.cache.get("position"));var n=new e.Map("mapBox"),a=utils.cache.get("position")||{lng:104,lat:35};n.centerAndZoom(new e.Point(a.lng,a.lat),4),navigator.geolocation.watchPosition(function(a){console.log(a),t=15e3;var o=a.coords.latitude,i=a.coords.longitude,c=new e.Point(i,o),r=new e.Convertor,l=[];l.push(c),r.translate(l,1,5,function(t){if(utils.cache.set("position",t.points[0]),0===t.status){var a=new e.Marker(t.points[0]);console.log(t.points[0]),n.clearOverlays(),n.addOverlay(a),n.panTo(t.points[0]),n.addControl(new e.NavigationControl)}})},function(t){console.log(JSON.stringify(t.code)),alert("获取地理位置坐标失败！")},{maximumAge:t,timeout:6e4,enableHighAccuracy:!0})}}}}});