webpackJsonp([18],{HY5g:function(t,e,n){"use strict";var o=n("xbIr"),a=n("m4K3"),i=n("VU/8"),s=i(o.a,a.a,!1,null,null,null);e.a=s.exports},P8Vh:function(t,e,n){"use strict";var o=n("HY5g");e.a={name:"Map",components:{baiduMap:o.a},data:function(){return{}},methods:{},mounted:function(){}}},h3B2:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("mt-header",{attrs:{title:"百度地图"}},[n("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:t.back},slot:"left"},[n("span",[t._v("返回")])])],1),t._v(" "),n("div",[n("baiduMap"),t._v(" "),n("div",{staticStyle:{height:"50%","overflow-y":"auto"}})],1)],1)},a=[],i={render:o,staticRenderFns:a};e.a=i},m4K3:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{width:"100%",position:"absolute",top:"40px"},style:{height:t.screenHeight-40+"px"},attrs:{id:"mapBox"}},[n("iframe",{attrs:{src:"static/html/baiduMap.html?callback=mapCallback",width:"100%",height:"100%",frameborder:"0"}})])},a=[],i={render:o,staticRenderFns:a};e.a=i},t1kT:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("P8Vh"),a=n("h3B2"),i=n("VU/8"),s=i(o.a,a.a,!1,null,null,null);e.default=s.exports},xbIr:function(t,e,n){"use strict";var o=n("YtJ0");e.a={name:"BaiduMap",data:function(){return{}},methods:{},computed:{},mounted:function(){var t=0;window.mapCallback=function(e){console.log("in callback",utils.cache.get("position"));var n=new e.Map("mapBox"),a=utils.cache.get("position")||{lng:104,lat:35},i=new e.Point(a.lng,a.lat);n.centerAndZoom(i,4),n.addOverlay(new e.Marker(i)),navigator.geolocation.watchPosition(function(o){console.log(o);var a=o.coords.latitude,i=o.coords.longitude,s=new e.Point(i,a),r=new e.Convertor,c=[];c.push(s),r.translate(c,1,5,function(o){if(utils.cache.set("position",o.points[0]),0===o.status){console.log(o.points[0]);new e.Marker(o.points[0]);n.getOverlays()[0].setPosition(o.points[0]),t?n.panTo(o.points[0]):n.centerAndZoom(o.points[0],18),n.addControl(new e.NavigationControl),t=15e3}})},function(t){console.log(JSON.stringify(t.code)),o.a.commit("TOGGLE_POPUP",{visible:!0,text:"获取地理位置坐标失败！",duration:1e3})},{maximumAge:t,timeout:6e4,enableHighAccuracy:!0})}}}}});